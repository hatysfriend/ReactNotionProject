(this.webpackJsonpReactNotionProject=this.webpackJsonpReactNotionProject||[]).push([[0],{109:function(e,t,c){},110:function(e,t,c){},254:function(e,t,c){},255:function(e,t,c){},256:function(e,t,c){},257:function(e,t,c){"use strict";c.r(t);var a=c(1),o=c.n(a),n=c(8),s=c.n(n),i=c(41),l=c(9),r=c(13),d=c(288),j=c(283),b=c(286),u=c(64),m=c(287),g=c(58),O=c(59),h=c.n(O),p=c(46);var v=c(2);function f(e){e.setProfileObject;var t=e.setLocalStorageData,c=e.logout,o=Object(a.useState)(),n=Object(r.a)(o,2),s=n[0],i=n[1],d=Object(l.f)(),O=x();return Object(v.jsx)("div",{className:O.container,children:Object(v.jsx)(j.a,{className:O.card,children:Object(v.jsxs)(b.a,{children:[Object(v.jsxs)(u.a,{className:O.title,color:"textSecondary",gutterBottom:!0,children:[Object(v.jsx)(p.b,{className:"SiIcons"})," Notion React App"]}),Object(v.jsx)(u.a,{variant:"h5",component:"h2",children:"LOGIN"}),Object(v.jsx)(m.a,{}),s?Object(v.jsx)(g.GoogleLogout,{buttonText:"Logout",onLogoutSuccess:function(){i(!1),c()},onFailure:function(){console.log("logout unsuccessful... try again..."),d.push("/login")}}):Object(v.jsx)(g.GoogleLogin,{clientId:"436581585233-tfe7t63pqblerrrn0ua9n7j9hjfv3bki.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(e){console.log("googleResponse",e),t(e.profileObj),console.log("logged in successfully!",document.cookie),d.push("/")},onFailure:function(){console.log("login unsuccessful... try again..."),d.push("/login")},cookiePolicy:"single_host_origin"})]})})})}var x=Object(d.a)({container:{display:"flex",flexDirection:"column",justifyContent:"space-evenly"},card:{margin:100,minWidth:400,alignSelf:"center"},loginWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},title:{fontSize:14},pos:{marginBottom:12}}),w=c(35),N=c(115),k=c.n(N),S=(c(109),c(289)),C=c(261),D=c(290),I=c(292),F=c(291),B=c(293),y=c(294),A=c(295),P=c(296);function _(e){var t=e.block,c=e.isOpen,a=e.onClose,o=(e.handleAdd,e.handleDelete);return c?s.a.createPortal(Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"overlayModal",onClick:a}),Object(v.jsx)("div",{className:"SettingsModal",children:Object(v.jsxs)(S.a,{children:[Object(v.jsxs)(C.a,{button:!0,onClick:function(){o(t.id),a()},children:[Object(v.jsx)(D.a,{children:Object(v.jsx)(F.a,{})}),Object(v.jsx)(I.a,{primary:"Delete"})]}),Object(v.jsxs)(C.a,{button:!0,onClick:a,children:[Object(v.jsx)(D.a,{children:Object(v.jsx)(B.a,{})}),Object(v.jsx)(I.a,{primary:"Duplicate"})]}),Object(v.jsxs)(C.a,{button:!0,onClick:a,children:[Object(v.jsx)(D.a,{children:Object(v.jsx)(y.a,{})}),Object(v.jsx)(I.a,{primary:"Copy link"})]}),Object(v.jsx)(m.a,{}),Object(v.jsxs)(C.a,{button:!0,onClick:a,children:[Object(v.jsx)(D.a,{children:Object(v.jsx)(A.a,{})}),Object(v.jsx)(I.a,{primary:"Comment"})]}),Object(v.jsx)(m.a,{}),Object(v.jsxs)(C.a,{button:!0,onClick:a,children:[Object(v.jsx)(D.a,{children:Object(v.jsx)(P.a,{})}),Object(v.jsx)(I.a,{primary:"Colour"})]})]})})]}),document.getElementById("portal")):null}var T=c(78);function E(e){e.block;var t=e.changeSettingsModal;return Object(v.jsxs)("div",{className:"contentButtons",children:[Object(v.jsx)(T.a,{className:"settingsButton",onClick:t}),Object(v.jsx)(T.b,{className:"optionsButton",onClick:L})]})}function L(){console.log("you have clicked OPTIONS")}c(40),c(252);function M(e){var t=e.block,c=e.updatePage,o=e.handleAdd,n=e.handleDelete,s=Object(a.useState)(!1),i=Object(r.a)(s,2),l=i[0],d=i[1],j=Object(a.useState)(null),b=Object(r.a)(j,2),u=(b[0],b[1]),m=Object(a.useState)(""),g=Object(r.a)(m,2),O=g[0],h=g[1];Object(a.useRef)(t.html);return Object(v.jsxs)("div",{className:"blockContainer",children:[Object(v.jsx)(E,{block:t,changeSettingsModal:function(){d(!0)}}),Object(v.jsx)(k.a,{className:"ReactQuill",value:t.html,onFocus:function(){"<p><br></p>"===t.html?h(!0):h(!1)},onChange:function(e){t.html!==e&&c(t.id,e)},onKeyDown:function(e){"<p><br></p>"===t.html?h(!0):h(!1),O&&("Backspace"===e.key&&(console.log("readyToDelete+backspace PRESSED"),e.preventDefault(),n(t.id)),"Delete"===e.key&&(console.log("readyToDelete+DELETE PRESSED"),e.preventDefault(),n(t.id)),"/"===e.key&&(console.log("You Pressed /"),e.preventDefault(),d(!0))),u(e.key)},placeholder:"Type '/' for commands",theme:"bubble"}),Object(v.jsx)(_,{block:t,isOpen:l,onClose:function(){d(!1)},handleDelete:n,handleAdd:o})]})}var R=c(116),z=c.n(R),H=c(79),U=c(307),G=[{_id:Object(U.a)(),title:"This is Note One",content:[{id:Object(U.a)(),html:"<p>Block One</p>"},{id:Object(U.a)(),html:"<p>Block Two</p>"},{id:Object(U.a)(),html:"<p>Block Three</p>"}],image:"https://www.notion.so/image/https%3A%2F%2Fwww.docker.com%2Fsites%2Fdefault%2Ffiles%2Fd8%2Fstyles%2Frole_icon%2Fpublic%2F2019-07%2FMoby-logo.png%3Fitok%3DsYH_JEaJ?table=block&id=e46e822a-19c0-4fe7-b026-1dcd793c1f1f&width=250&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2"},{_id:Object(U.a)(),title:"Note Object Two",content:[{id:Object(U.a)(),html:"<p>Block 1</p>"},{id:Object(U.a)(),html:"<p>Block 2</p>"}],image:"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f40a.svg"},{_id:Object(U.a)(),title:"Note Object Three",content:[{id:Object(U.a)(),html:"<p>Block A</p>"}],image:"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f418.svg"}];function J(){return["https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fmet_frederic_edwin_church_1871.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fnasa_the_blue_marble.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fwoodcuts_11.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fwoodcuts_14.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fmet_william_morris_1877_willow.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://2.bp.blogspot.com/-C8vnMOJVWRI/XIkaFbYfEcI/AAAAAAAAAgo/FIBvarQjNwwTVb5OPnpRhUjTU1lcnuQMwCKgBGAs/w3840-h1600-p-k-no-nu/anime-scenery-sunset-uhdpaper.com-4K-112.jpg"][Math.floor(6*Math.random())]}var K=c(297);c(306),c(298);function Q(e){var t=e.selectedNote,c=e.updateDatabase,o=e.isOpen,n=e.onClose,i=Object(a.useRef)();return o?s.a.createPortal(Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"overlayModal",onClick:n}),Object(v.jsxs)("div",{className:"SettingsModal",children:[Object(v.jsxs)("div",{className:"IconModalNavbar",children:[Object(v.jsx)("h1",{children:"Link"}),Object(v.jsx)(K.a,{onClick:function(){!function(e){e.image=null,c(e)}(t),n()},children:"Remove"})]}),Object(v.jsx)(m.a,{}),Object(v.jsx)("div",{className:"IconModalInput",children:Object(v.jsx)("input",{ref:i,placeholder:"Paste an Image Link",onInput:function(e){i.current=e.target.value}})}),Object(v.jsx)(K.a,{onClick:function(){var e;e=i.current,t.image=e,c(t),n()},children:"Submit"})]})]}),document.getElementById("portal")):null}function W(e){var t=e.selectedNote,c=e.updateDatabase,n=Object(a.useState)(!1),s=Object(r.a)(n,2),i=s[0],l=s[1];return Boolean(t.image)&&Boolean(t.coverImage)?Object(v.jsxs)(o.a.Fragment,{children:[Object(v.jsx)("img",{className:"titleIcon-cover",src:t.image,alt:"",onClick:function(){l(!0)}}),Object(v.jsx)(Q,{selectedNote:t,updateDatabase:c,isOpen:i,onClose:function(){l(!1)}})]}):Boolean(t.image)?Object(v.jsxs)(o.a.Fragment,{children:[Object(v.jsx)("img",{className:"titleIcon",src:t.image,alt:"",onClick:function(){l(!0)}}),Object(v.jsx)(Q,{selectedNote:t,updateDatabase:c,isOpen:i,onClose:function(){l(!1)}})]}):null}function Y(e){var t=e.selectedNote,c=e.updateDatabase,o=Object(a.useRef)(),n=function(e){e.image=["https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f435.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f98d.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f98a.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f42e.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f416.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f418.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f413.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f422.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f433.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f419.svg"][Math.floor(11*Math.random())],c(e)};return Object(v.jsxs)("div",{className:"titleContainer",children:[Object(v.jsx)(W,{selectedNote:t,updateDatabase:c}),Object(v.jsxs)("div",{className:"titleButtons",children:[!Boolean(t.image)&&Object(v.jsxs)("div",{className:"iconButton",onClick:function(){n(t)},children:[Object(v.jsx)(H.b,{className:"react-icon"}),"Add Icon"]}),!Boolean(t.coverImage)&&Object(v.jsxs)("div",{className:"coverButton",onClick:function(){!function(e){e.coverImage=J(),c(e)}(t)},children:[Object(v.jsx)(H.a,{className:"react-icon"}),"Add Cover"]})]}),Object(v.jsx)(z.a,{className:"pageComponentTitle",placeholder:"Page Title Goes Here...",onBlur:function(e){console.log(e.target.textContent),console.log(e.target.innerHTML),t.title=e.target.textContent.trim(),c(t)},html:t.title,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),o.current.el.current.blur())},ref:o})]})}function V(e){var t=e.selectedNote,c=e.updateDatabase;return Boolean(t.coverImage)?Object(v.jsxs)("div",{className:"titleCoverContainer",children:[Object(v.jsx)("img",{className:"titleCoverImage",src:t.coverImage,alt:""}),Object(v.jsxs)("div",{className:"titleCoverButtons",children:[Object(v.jsx)(K.a,{onClick:function(){var e;(e=t).coverImage=null,c(e)},children:"Remove"}),Object(v.jsx)(K.a,{onClick:function(){t.coverImage=J(),c(t)},children:"Change Cover"})]})]}):null}function q(e){var t=e.updateDatabase,c=e.selectedNote,a=function(e,a){var o=c;o.content.find((function(t){return t.id===e})).html=a,t(o)},o=function(){var e=Object(w.a)(c.content),a={id:Object(U.a)(),html:"<p><br></p>"};e.push(a),c.content=e,t(c)},n=function(e){var a=Object(w.a)(c.content).filter((function(t){return t.id!==e}));c.content=a,t(c)};return c?Object(v.jsxs)("div",{className:"Editor",children:[Object(v.jsx)(V,{selectedNote:c,updateDatabase:t}),Object(v.jsxs)("div",{className:"mainContentContainer",children:[Object(v.jsx)(Y,{selectedNote:c,updateDatabase:t}),Object(v.jsxs)("div",{className:"contentContainer",children:[c.content.map((function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(M,{block:e,updatePage:a,handleAdd:o,handleDelete:n})},e.id)})),Object(v.jsx)("div",{className:"newBlock",onClick:o,placeholder:"/add new block"})]})]})]}):null}var X=c(299),Z=c(300),$=c(301);c(254);function ee(e){var t=e.toggle,c=e.isOpen,a=e.profileObject,o=e.logout,n=Object(l.f)();return Object(v.jsxs)("div",{className:"Header",children:[Object(v.jsx)("div",{className:"menuOpenBtnHeader",onClick:function(){return t(!0)},children:c?null:Object(v.jsx)(X.a,{})}),Object(v.jsx)("div",{className:"userHeader",children:null===a||void 0===a?void 0:a.name}),Object(v.jsx)("img",{className:"profileImage",src:null===a||void 0===a?void 0:a.imageUrl,alt:"User"}),Object(v.jsx)("div",{className:"shareBtnHeader",children:"Share"}),Object(v.jsxs)("div",{className:"updateBtnHeader",children:[Object(v.jsx)(Z.a,{}),"Updates"]}),Object(v.jsx)("div",{className:"settingsBtnHeader",children:Object(v.jsx)($.a,{})}),Object(v.jsx)("div",{className:"logoutBtnHeader",onClick:function(){console.log("logout success"),o(),n.push("/login")},children:"Logout"})]})}c(110);var te=c(305),ce=c(302),ae=c(303),oe=c(304);function ne(e){var t,c=e.note,a=e.selectedNote,o=e.setSelectedNote,n=e.deleteNote;return Object(v.jsxs)(C.a,{className:"SidebarItem",selected:a===c,onClick:function(){o(c)},children:[Object(v.jsx)(ce.a,{}),Boolean(c.image)?Object(v.jsx)("img",{className:"sidebarIcon",src:c.image,alt:""}):Object(v.jsx)("div",{className:"sidebarIcon",children:Object(v.jsx)(ae.a,{})}),Object(v.jsx)(I.a,{className:"textSection",primary:(t=c.title,t.length>20?t.substring(0,20)+"...":t)}),Object(v.jsx)(oe.a,{className:"SidebarItemSettings",onClick:function(e){!function(e){e.stopPropagation(),n(c._id)}(e)}})]})}function se(e){var t=e.isOpen,c=e.data,a=e.addNote,o=e.deleteNote,n=e.toggle,s=e.selectedNote,i=e.setSelectedNote;return t?Object(v.jsxs)("div",{className:"Sidebar",children:[Object(v.jsxs)("div",{className:"SidebarTop",children:[Object(v.jsx)(p.b,{className:"SiIcons"})," Notion React App",Object(v.jsx)(te.a,{className:"MenuOpenIcon",onClick:function(){return n(!1)}})]}),Object(v.jsx)(m.a,{}),Object(v.jsxs)("div",{className:"NotesSection",children:[Object(v.jsx)("div",{className:"NotesSection-heading",children:"NOTES"}),c&&c.map((function(e){return Object(v.jsx)(ne,{note:e,selectedNote:s,setSelectedNote:i,deleteNote:o},e._id)}))]}),Object(v.jsx)(m.a,{}),Object(v.jsx)("div",{className:"newPageBtn",onClick:a,children:Object(v.jsxs)("div",{className:"newPageBtnLabel",children:[Object(v.jsx)(p.a,{className:"SiIcons"})," New page"]})})]}):null}var ie=h.a.create({baseURL:"https://mongodb-server-app.herokuapp.com/notes/"});c(255);function le(e){var t=e.localStorageData,c=e.logout,o=Object(a.useState)(),n=Object(r.a)(o,2),s=n[0],i=n[1],l=Object(a.useState)(),d=Object(r.a)(l,2),j=d[0],b=d[1],u=Object(a.useState)(!0),m=Object(r.a)(u,2),g=m[0],O=m[1],h=Object(a.useState)(!0),p=Object(r.a)(h,2);p[0],p[1];Object(a.useEffect)((function(){ie.get().then((function(e){return e.data})).then((function(e){i(e)})).catch((function(e){console.log("Unable to connect to DB... Did you run MongoDB Server Application?"),i(G),console.error("GETALL API: ".concat(e))}))}),[]);return Object(v.jsxs)("div",{className:"MainPage",children:[Object(v.jsx)(se,{data:s,toggle:O,isOpen:g,selectedNote:j,setSelectedNote:b,addNote:function(){var e,t={title:"",content:[]},c=Object(w.a)(s);(e=t,ie.post("",e).then((function(e){return e.data})).catch((function(e){console.error("ADD API: ".concat(e))}))).then((function(e){e?(c.push(e),i(c),b(e)):(console.log("no response"),t._id=Object(U.a)(),c.push(t),i(c),b(t))}))},deleteNote:function(e){!function(e){ie.delete("".concat(e)).then((function(e){return e.data})).catch((function(e){console.error("DELETE API: ".concat(e))}))}(e);var t=s.filter((function(t){return t._id!==e}));i(t),b(s[0])}}),Object(v.jsx)(ee,{toggle:O,isOpen:g,profileObject:t,logout:c}),Object(v.jsx)(q,{updateDatabase:function(e){var t=Object(w.a)(s),c=t.indexOf(e);t[c]=e,i(t),function(e,t){ie.patch("".concat(e),t).then((function(e){return e.data})).catch((function(e){console.error("UPDATE API: ".concat(e))}))}(e._id,e)},selectedNote:j})]})}c(256);var re=function(){var e=function(){var e=Object(a.useState)((function(){var e=localStorage.getItem("localStorageData"),t=JSON.parse(e);return console.log("checking local storage for 'data': ".concat(t)),t})),t=Object(r.a)(e,2),c=t[0],o=t[1];return{setLocalStorageData:function(e){console.log("saving data to LocalStorage",e),localStorage.setItem("localStorageData",JSON.stringify(e)),o(e),e||localStorage.removeItem("localStorageData")},localStorageData:c}}(),t=e.localStorageData,c=e.setLocalStorageData,o=function(){c(null),console.log("logged out successfully!",document.cookie,localStorage.getItem("localStorageData"))};return Object(v.jsx)(i.a,{basename:"/ReactNotionProject",children:Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{exact:!0,path:"/login",children:Object(v.jsx)(f,{setLocalStorageData:c,logout:o})}),Object(v.jsx)(l.a,{exact:!0,path:"/",children:Object(v.jsx)(le,{localStorageData:t,logout:o})})]})})};s.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(re,{})}),document.getElementById("root"))},40:function(e,t,c){}},[[257,1,2]]]);
//# sourceMappingURL=main.74df60ee.chunk.js.map