(this.webpackJsonpReactNotionProject=this.webpackJsonpReactNotionProject||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},239:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),c=a(7),s=a.n(c),i=a(56),l=a(9),r=a(285),d=a(63),j=a(288),b=a(44),u=a(57),g=a(75),m=a.n(g),p=a(112),h=a(2);function O(e){var t=e.setLocalStorageData,a=Object(l.f)(),o=Object(u.useGoogleLogin)({onSuccess:function(e){console.log("[Login Success!] currentUser:",e.profileObj),t(e.profileObj),function(e){var t=1e3*(e.tokenObj.expires_in||3300),a=function(){var o=Object(p.a)(m.a.mark((function o(){var n;return m.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.reloadAuthResponse();case 2:n=o.sent,t=1e3*(n.expires_in||3300),console.log("newAuthRes:",n),console.log("new auth Token",n.id_token),setTimeout(a,t);case 7:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();setTimeout(a,t)}(e),a.push("/")},onFailure:function(e){console.log("[Login Failed...] res:",e)},clientId:"436581585233-tfe7t63pqblerrrn0ua9n7j9hjfv3bki.apps.googleusercontent.com",isSignedIn:!0,accessType:"offline"}).signIn,n=x();return Object(h.jsx)("div",{children:Object(h.jsxs)("button",{onClick:o,className:n.button,children:[Object(h.jsx)("img",{src:"google.svg",alt:"google login",className:n.icon}),Object(h.jsx)("span",{className:n.buttonText,children:"Sign in with Google"})]})})}var x=Object(r.a)({button:{position:"relative",cursor:"pointer",display:"block",fontSize:"1.2em",boxSizing:"content-box",margin:"20px auto 0px",width:"70%",padding:"15px 20px",borderColor:"transparent",backgroundColor:"rgba(47, 52, 55, 1)",boxShadow:"0px 16px 60px rgba(78, 79, 114, 0.38)",textAlign:"center","&:hover":{background:"rgba(47, 52, 55, 0.9)"}},buttonText:{color:"white"},icon:{marginRight:"5px",height:"25px",width:"25px",alignItems:"center"}});function v(e){var t=e.setLocalStorageData,a=Object(l.f)(),o=Object(u.useGoogleLogout)({clientId:"436581585233-tfe7t63pqblerrrn0ua9n7j9hjfv3bki.apps.googleusercontent.com",onLogoutSuccess:function(){t(null),a.push("/login")},onFailure:function(e){console.log("[Logout Failed...] res:",e)}}).signOut,n=f();return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{onClick:o,className:n.button,children:[Object(h.jsx)("img",{src:"google.svg",alt:"google login",className:n.icon}),Object(h.jsx)("span",{className:n.buttonText,children:"Sign out"})]})})}var f=Object(r.a)({button:{position:"relative",cursor:"pointer",display:"block",fontSize:"1.2em",boxSizing:"content-box",margin:"20px auto 0px",width:"70%",padding:"15px 20px",borderColor:"transparent",backgroundColor:"rgba(47, 52, 55, 1)",boxShadow:"0px 16px 60px rgba(78, 79, 114, 0.38)",textAlign:"center","&:hover":{background:"rgba(47, 52, 55, 0.9)"}},buttonText:{color:"white"},icon:{marginRight:"5px",height:"25px",width:"25px",alignItems:"center"}});function w(e){var t=e.setLocalStorageData,a=(e.logout,N());return Object(h.jsxs)("div",{className:a.container,children:[Object(h.jsxs)(d.a,{className:a.title,color:"textSecondary",gutterBottom:!0,children:[Object(h.jsx)(b.b,{className:"SiIcons"})," Notion React App"]}),Object(h.jsx)(d.a,{className:a.title2,variant:"h5",component:"h2",children:"Login"}),Object(h.jsx)(j.a,{}),Object(h.jsx)(O,{setLocalStorageData:t}),Object(h.jsx)(v,{setLocalStorageData:t})]})}var N=Object(r.a)({container:{width:"350px",height:"250px",backgroundColor:"white",position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto",padding:"30px 10px",maxWidth:"100%",maxHeight:"100%",overflow:"none",borderRadius:"5px"},title:{fontSize:16,margin:"0px 10px"},title2:{margin:"5px 10px"}}),S=a(34),k=a(16),D=a(117),C=a.n(D),I=(a(102),a(289)),F=a(263),B=a(290),A=a(292),y=a(291),L=a(293),T=a(294),_=a(295),P=a(296);function E(e){var t=e.block,a=e.isOpen,o=e.onClose,n=(e.handleAdd,e.handleDelete);return a?s.a.createPortal(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"overlayModal",onClick:o}),Object(h.jsx)("div",{className:"SettingsModal",children:Object(h.jsxs)(I.a,{children:[Object(h.jsxs)(F.a,{button:!0,onClick:function(){n(t.id),o()},children:[Object(h.jsx)(B.a,{children:Object(h.jsx)(y.a,{})}),Object(h.jsx)(A.a,{primary:"Delete"})]}),Object(h.jsxs)(F.a,{button:!0,onClick:o,children:[Object(h.jsx)(B.a,{children:Object(h.jsx)(L.a,{})}),Object(h.jsx)(A.a,{primary:"Duplicate"})]}),Object(h.jsxs)(F.a,{button:!0,onClick:o,children:[Object(h.jsx)(B.a,{children:Object(h.jsx)(T.a,{})}),Object(h.jsx)(A.a,{primary:"Copy link"})]}),Object(h.jsx)(j.a,{}),Object(h.jsxs)(F.a,{button:!0,onClick:o,children:[Object(h.jsx)(B.a,{children:Object(h.jsx)(_.a,{})}),Object(h.jsx)(A.a,{primary:"Comment"})]}),Object(h.jsx)(j.a,{}),Object(h.jsxs)(F.a,{button:!0,onClick:o,children:[Object(h.jsx)(B.a,{children:Object(h.jsx)(P.a,{})}),Object(h.jsx)(A.a,{primary:"Colour"})]})]})})]}),document.getElementById("portal")):null}var M=a(78);function R(e){e.block;var t=e.changeSettingsModal;return Object(h.jsxs)("div",{className:"contentButtons",children:[Object(h.jsx)(M.a,{className:"settingsButton",onClick:t}),Object(h.jsx)(M.b,{className:"optionsButton",onClick:z})]})}function z(){console.log("you have clicked OPTIONS")}a(40),a(237);function H(e){var t=e.block,a=e.updatePage,n=e.handleAdd,c=e.handleDelete,s=Object(o.useState)(!1),i=Object(k.a)(s,2),l=i[0],r=i[1],d=Object(o.useState)(""),j=Object(k.a)(d,2),b=j[0],u=j[1];return Object(h.jsxs)("div",{className:"blockContainer",children:[Object(h.jsx)(R,{block:t,changeSettingsModal:function(){r(!0)}}),Object(h.jsx)(C.a,{className:"ReactQuill",value:t.html,onFocus:function(){"<p><br></p>"===t.html?u(!0):u(!1)},onChange:function(e){t.html!==e&&a(t.id,e)},onKeyDown:function(e){"<p><br></p>"===t.html?u(!0):u(!1),b&&("Backspace"===e.key&&(console.log("readyToDelete+backspace PRESSED"),e.preventDefault(),c(t.id)),"Delete"===e.key&&(console.log("readyToDelete+DELETE PRESSED"),e.preventDefault(),c(t.id)),"/"===e.key&&(console.log("You Pressed /"),e.preventDefault(),r(!0)))},placeholder:"Type '/' for commands",theme:"bubble"}),Object(h.jsx)(E,{block:t,isOpen:l,onClose:function(){r(!1)},handleDelete:c,handleAdd:n})]})}var U=a(118),J=a.n(U),G=a(79),K=a(307),Q=[{_id:Object(K.a)(),title:"This is Note One",content:[{id:Object(K.a)(),html:"<p>Block One</p>"},{id:Object(K.a)(),html:"<p>Block Two</p>"},{id:Object(K.a)(),html:"<p>Block Three</p>"}],image:"https://www.notion.so/image/https%3A%2F%2Fwww.docker.com%2Fsites%2Fdefault%2Ffiles%2Fd8%2Fstyles%2Frole_icon%2Fpublic%2F2019-07%2FMoby-logo.png%3Fitok%3DsYH_JEaJ?table=block&id=e46e822a-19c0-4fe7-b026-1dcd793c1f1f&width=250&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2"},{_id:Object(K.a)(),title:"Note Object Two",content:[{id:Object(K.a)(),html:"<p>Block 1</p>"},{id:Object(K.a)(),html:"<p>Block 2</p>"}],image:"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f40a.svg"},{_id:Object(K.a)(),title:"Note Object Three",content:[{id:Object(K.a)(),html:"<p>Block A</p>"}],image:"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f418.svg"}];function Y(){return["https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fmet_frederic_edwin_church_1871.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fnasa_the_blue_marble.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fwoodcuts_11.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fwoodcuts_14.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fmet_william_morris_1877_willow.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://2.bp.blogspot.com/-C8vnMOJVWRI/XIkaFbYfEcI/AAAAAAAAAgo/FIBvarQjNwwTVb5OPnpRhUjTU1lcnuQMwCKgBGAs/w3840-h1600-p-k-no-nu/anime-scenery-sunset-uhdpaper.com-4K-112.jpg"][Math.floor(6*Math.random())]}var q=a(297);a(306),a(298);function V(e){var t=e.selectedNote,a=e.updateDatabase,n=e.isOpen,c=e.onClose,i=Object(o.useRef)();return n?s.a.createPortal(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"overlayModal",onClick:c}),Object(h.jsxs)("div",{className:"SettingsModal",children:[Object(h.jsxs)("div",{className:"IconModalNavbar",children:[Object(h.jsx)("h1",{children:"Link"}),Object(h.jsx)(q.a,{onClick:function(){!function(e){e.image=null,a(e)}(t),c()},children:"Remove"})]}),Object(h.jsx)(j.a,{}),Object(h.jsx)("div",{className:"IconModalInput",children:Object(h.jsx)("input",{ref:i,placeholder:"Paste an Image Link",onInput:function(e){i.current=e.target.value}})}),Object(h.jsx)(q.a,{onClick:function(){var e;e=i.current,t.image=e,a(t),c()},children:"Submit"})]})]}),document.getElementById("portal")):null}function W(e){var t=e.selectedNote,a=e.updateDatabase,c=Object(o.useState)(!1),s=Object(k.a)(c,2),i=s[0],l=s[1];return Boolean(t.image)&&Boolean(t.coverImage)?Object(h.jsxs)(n.a.Fragment,{children:[Object(h.jsx)("img",{className:"titleIcon-cover",src:t.image,alt:"",onClick:function(){l(!0)}}),Object(h.jsx)(V,{selectedNote:t,updateDatabase:a,isOpen:i,onClose:function(){l(!1)}})]}):Boolean(t.image)?Object(h.jsxs)(n.a.Fragment,{children:[Object(h.jsx)("img",{className:"titleIcon",src:t.image,alt:"",onClick:function(){l(!0)}}),Object(h.jsx)(V,{selectedNote:t,updateDatabase:a,isOpen:i,onClose:function(){l(!1)}})]}):null}function X(e){var t=e.selectedNote,a=e.updateDatabase,n=Object(o.useRef)(),c=function(e){e.image=["https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f435.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f98d.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f98a.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f42e.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f416.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f418.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f413.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f422.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f433.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f419.svg"][Math.floor(11*Math.random())],a(e)};return Object(h.jsxs)("div",{className:"titleContainer",children:[Object(h.jsx)(W,{selectedNote:t,updateDatabase:a}),Object(h.jsxs)("div",{className:"titleButtons",children:[!Boolean(t.image)&&Object(h.jsxs)("div",{className:"iconButton",onClick:function(){c(t)},children:[Object(h.jsx)(G.b,{className:"react-icon"}),"Add Icon"]}),!Boolean(t.coverImage)&&Object(h.jsxs)("div",{className:"coverButton",onClick:function(){!function(e){e.coverImage=Y(),a(e)}(t)},children:[Object(h.jsx)(G.a,{className:"react-icon"}),"Add Cover"]})]}),Object(h.jsx)(J.a,{className:"pageComponentTitle",placeholder:"Page Title Goes Here...",onBlur:function(e){console.log(e.target.textContent),console.log(e.target.innerHTML),t.title=e.target.textContent.trim(),a(t)},html:t.title,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),n.current.el.current.blur())},ref:n})]})}function Z(e){var t=e.selectedNote,a=e.updateDatabase;return Boolean(t.coverImage)?Object(h.jsxs)("div",{className:"titleCoverContainer",children:[Object(h.jsx)("img",{className:"titleCoverImage",src:t.coverImage,alt:""}),Object(h.jsxs)("div",{className:"titleCoverButtons",children:[Object(h.jsx)(q.a,{onClick:function(){var e;(e=t).coverImage=null,a(e)},children:"Remove"}),Object(h.jsx)(q.a,{onClick:function(){t.coverImage=Y(),a(t)},children:"Change Cover"})]})]}):null}function $(e){var t=e.updateDatabase,a=e.selectedNote,o=function(e,o){var n=a;n.content.find((function(t){return t.id===e})).html=o,t(n)},n=function(){var e=Object(S.a)(a.content),o={id:Object(K.a)(),html:"<p><br></p>"};e.push(o),a.content=e,t(a)},c=function(e){var o=Object(S.a)(a.content).filter((function(t){return t.id!==e}));a.content=o,t(a)};return a?Object(h.jsxs)("div",{className:"Editor",children:[Object(h.jsx)(Z,{selectedNote:a,updateDatabase:t}),Object(h.jsxs)("div",{className:"mainContentContainer",children:[Object(h.jsx)(X,{selectedNote:a,updateDatabase:t}),Object(h.jsxs)("div",{className:"contentContainer",children:[a.content.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(H,{block:e,updatePage:o,handleAdd:n,handleDelete:c})},e.id)})),Object(h.jsx)("div",{className:"newBlock",onClick:n,placeholder:"/add new block"})]})]})]}):null}var ee=a(299),te=a(300),ae=a(301);a(239);function oe(e){var t=e.toggle,a=e.isOpen,o=e.profileObject,n=(e.logout,e.setLocalStorageData);return Object(h.jsxs)("div",{className:"Header",children:[Object(h.jsx)("div",{className:"menuOpenBtnHeader",onClick:function(){return t(!0)},children:a?null:Object(h.jsx)(ee.a,{})}),Object(h.jsx)("div",{className:"userHeader",children:(null===o||void 0===o?void 0:o.name)?null===o||void 0===o?void 0:o.name:Object(h.jsx)("div",{className:"userHeader-2",children:"User"})}),Object(h.jsx)("img",{className:"profileImage",src:null===o||void 0===o?void 0:o.imageUrl,alt:""}),Object(h.jsx)("div",{className:"shareBtnHeader",children:"Share"}),Object(h.jsxs)("div",{className:"updateBtnHeader",children:[Object(h.jsx)(te.a,{}),"Updates"]}),Object(h.jsx)("div",{className:"settingsBtnHeader",children:Object(h.jsx)(ae.a,{})}),Object(h.jsx)(v,{className:"logoutBtnHeader",setLocalStorageData:n})]})}a(103);var ne=a(305),ce=a(302),se=a(303),ie=a(304);function le(e){var t,a=e.note,o=e.selectedNote,n=e.setSelectedNote,c=e.deleteNote;return Object(h.jsxs)(F.a,{className:"SidebarItem",selected:o===a,onClick:function(){n(a)},children:[Object(h.jsx)(ce.a,{}),Boolean(a.image)?Object(h.jsx)("img",{className:"sidebarIcon",src:a.image,alt:""}):Object(h.jsx)("div",{className:"sidebarIcon",children:Object(h.jsx)(se.a,{})}),Object(h.jsx)(A.a,{className:"textSection",primary:(t=a.title,t.length>20?t.substring(0,20)+"...":t)}),Object(h.jsx)(ie.a,{className:"SidebarItemSettings",onClick:function(e){!function(e){e.stopPropagation(),c(a._id)}(e)}})]})}function re(e){var t=e.isOpen,a=e.data,o=e.addNote,n=e.deleteNote,c=e.toggle,s=e.selectedNote,i=e.setSelectedNote;return t?Object(h.jsxs)("div",{className:"Sidebar",children:[Object(h.jsxs)("div",{className:"SidebarTop",children:[Object(h.jsx)(b.b,{className:"SiIcons"})," Notion React App",Object(h.jsx)(ne.a,{className:"MenuOpenIcon",onClick:function(){return c(!1)}})]}),Object(h.jsx)(j.a,{}),Object(h.jsxs)("div",{className:"NotesSection",children:[Object(h.jsx)("div",{className:"NotesSection-heading",children:"NOTES"}),a&&a.map((function(e){return Object(h.jsx)(le,{note:e,selectedNote:s,setSelectedNote:i,deleteNote:n},e._id)}))]}),Object(h.jsx)(j.a,{}),Object(h.jsx)("div",{className:"newPageBtn",onClick:o,children:Object(h.jsxs)("div",{className:"newPageBtnLabel",children:[Object(h.jsx)(b.a,{className:"SiIcons"})," New page"]})})]}):null}var de=a(119),je=a.n(de).a.create({baseURL:"https://mongodb-server-app.herokuapp.com/"});a(258);function be(e){var t=e.localStorageData,a=e.setLocalStorageData,n=e.logout,c=Object(o.useState)(),s=Object(k.a)(c,2),i=s[0],l=s[1],r=Object(o.useState)(),d=Object(k.a)(r,2),j=d[0],b=d[1],u=Object(o.useState)(!0),g=Object(k.a)(u,2),m=g[0],p=g[1];Object(o.useEffect)((function(){je.get("notes").then((function(e){return e.data})).then((function(e){l(e)})).catch((function(e){console.log("Unable to connect to DB... Did you run MongoDB Server Application?"),l(Q),console.error("GETALL API: ".concat(e))}))}),[]);return Object(h.jsxs)("div",{className:"MainPage",children:[Object(h.jsx)(re,{data:i,toggle:p,isOpen:m,selectedNote:j,setSelectedNote:b,addNote:function(){var e,t={title:"",content:[]},a=Object(S.a)(i);(e=t,je.post("notes",e).then((function(e){return e.data})).catch((function(e){console.error("ADD API: ".concat(e))}))).then((function(e){e?(a.push(e),l(a),b(e)):(console.log("no response"),t._id=Object(K.a)(),a.push(t),l(a),b(t))}))},deleteNote:function(e){!function(e){je.delete("notes/".concat(e)).then((function(e){return e.data})).catch((function(e){console.error("DELETE API: ".concat(e))}))}(e);var t=i.filter((function(t){return t._id!==e}));l(t),b(i[0])}}),Object(h.jsx)(oe,{toggle:p,isOpen:m,profileObject:t,setLocalStorageData:a,logout:n}),Object(h.jsx)($,{updateDatabase:function(e){var t=Object(S.a)(i),a=t.indexOf(e);t[a]=e,l(t),function(e,t){je.patch("notes/".concat(e),t).then((function(e){return e.data})).catch((function(e){console.error("UPDATE API: ".concat(e))}))}(e._id,e)},selectedNote:j})]})}a(259);var ue=function(){var e=function(){var e=Object(o.useState)((function(){var e=localStorage.getItem("localStorageData"),t=JSON.parse(e);return console.log("checking local storage for 'data': ".concat(JSON.stringify(t))),t})),t=Object(k.a)(e,2),a=t[0],n=t[1];return{localStorageData:a,setLocalStorageData:function(e){console.log("saving data to LocalStorage",e),localStorage.setItem("localStorageData",JSON.stringify(e)),n(e),e||localStorage.removeItem("localStorageData")}}}(),t=e.localStorageData,a=e.setLocalStorageData,n=function(){a(null),console.log("logged out successfully!",document.cookie,localStorage.getItem("localStorageData"))};return Object(h.jsx)(i.a,{basename:"/ReactNotionProject",children:Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/login",children:Object(h.jsx)(w,{setLocalStorageData:a,logout:n})}),Object(h.jsx)(l.a,{exact:!0,path:"/",children:Object(h.jsx)(be,{localStorageData:t,setLocalStorageData:a,logout:n})})]})})};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(ue,{})}),document.getElementById("root"))},40:function(e,t,a){}},[[260,1,2]]]);
//# sourceMappingURL=main.72f679a5.chunk.js.map