(this.webpackJsonpReactNotionProject=this.webpackJsonpReactNotionProject||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){},127:function(e,t,c){},237:function(e,t,c){},259:function(e,t,c){},260:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),o=c(8),s=c.n(o),i=(c(127),c(35)),l=c(13),r=c(75),d=c(9),j=c(112),b=c.n(j),u=(c(102),c(286)),m=c(264),O=c(289),h=c(291),g=c(294),p=c(290),v=c(292),f=c(293),x=c(295),w=c(296),N=c(2);function k(e){var t=e.block,c=e.isOpen,n=e.onClose,a=(e.handleAdd,e.handleDelete);return c?s.a.createPortal(Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"overlayModal",onClick:n}),Object(N.jsx)("div",{className:"SettingsModal",children:Object(N.jsxs)(u.a,{children:[Object(N.jsxs)(m.a,{button:!0,onClick:function(){a(t.id),n()},children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(p.a,{})}),Object(N.jsx)(h.a,{primary:"Delete"})]}),Object(N.jsxs)(m.a,{button:!0,onClick:n,children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(v.a,{})}),Object(N.jsx)(h.a,{primary:"Duplicate"})]}),Object(N.jsxs)(m.a,{button:!0,onClick:n,children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(f.a,{})}),Object(N.jsx)(h.a,{primary:"Copy link"})]}),Object(N.jsx)(g.a,{}),Object(N.jsxs)(m.a,{button:!0,onClick:n,children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(x.a,{})}),Object(N.jsx)(h.a,{primary:"Comment"})]}),Object(N.jsx)(g.a,{}),Object(N.jsxs)(m.a,{button:!0,onClick:n,children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(w.a,{})}),Object(N.jsx)(h.a,{primary:"Colour"})]})]})})]}),document.getElementById("portal")):null}var C=c(76);function S(e){e.block;var t=e.changeSettingsModal;return Object(N.jsxs)("div",{className:"contentButtons",children:[Object(N.jsx)(C.a,{className:"settingsButton",onClick:t}),Object(N.jsx)(C.b,{className:"optionsButton",onClick:I})]})}function I(){console.log("you have clicked OPTIONS")}c(41),c(235);function F(e){var t=e.block,c=e.updatePage,a=e.handleAdd,o=e.handleDelete,s=Object(n.useState)(!1),i=Object(l.a)(s,2),r=i[0],d=i[1],j=Object(n.useState)(null),u=Object(l.a)(j,2),m=(u[0],u[1]),O=Object(n.useState)(""),h=Object(l.a)(O,2),g=h[0],p=h[1];Object(n.useRef)(t.html);return Object(N.jsxs)("div",{className:"blockContainer",children:[Object(N.jsx)(S,{block:t,changeSettingsModal:function(){d(!0)}}),Object(N.jsx)(b.a,{className:"ReactQuill",value:t.html,onFocus:function(){"<p><br></p>"===t.html?p(!0):p(!1)},onChange:function(e){t.html!==e&&c(t.id,e)},onKeyDown:function(e){"<p><br></p>"===t.html?p(!0):p(!1),g&&("Backspace"===e.key&&(console.log("readyToDelete+backspace PRESSED"),e.preventDefault(),o(t.id)),"Delete"===e.key&&(console.log("readyToDelete+DELETE PRESSED"),e.preventDefault(),o(t.id)),"/"===e.key&&(console.log("You Pressed /"),e.preventDefault(),d(!0))),m(e.key)},placeholder:"Type '/' for commands",theme:"bubble"}),Object(N.jsx)(k,{block:t,isOpen:r,onClose:function(){d(!1)},handleDelete:o,handleAdd:a})]})}var B=c(117),D=c.n(B),y=c(77),A=c(311),T=[{_id:Object(A.a)(),title:"This is Note One",content:[{id:Object(A.a)(),html:"<p>Block One</p>"},{id:Object(A.a)(),html:"<p>Block Two</p>"},{id:Object(A.a)(),html:"<p>Block Three</p>"}],image:"https://www.notion.so/image/https%3A%2F%2Fwww.docker.com%2Fsites%2Fdefault%2Ffiles%2Fd8%2Fstyles%2Frole_icon%2Fpublic%2F2019-07%2FMoby-logo.png%3Fitok%3DsYH_JEaJ?table=block&id=e46e822a-19c0-4fe7-b026-1dcd793c1f1f&width=250&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2"},{_id:Object(A.a)(),title:"Note Object Two",content:[{id:Object(A.a)(),html:"<p>Block 1</p>"},{id:Object(A.a)(),html:"<p>Block 2</p>"}],image:"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f40a.svg"},{_id:Object(A.a)(),title:"Note Object Three",content:[{id:Object(A.a)(),html:"<p>Block A</p>"}],image:"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f418.svg"}];function _(){return["https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fmet_frederic_edwin_church_1871.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fnasa_the_blue_marble.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fwoodcuts_11.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fwoodcuts_14.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fmet_william_morris_1877_willow.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2","https://2.bp.blogspot.com/-C8vnMOJVWRI/XIkaFbYfEcI/AAAAAAAAAgo/FIBvarQjNwwTVb5OPnpRhUjTU1lcnuQMwCKgBGAs/w3840-h1600-p-k-no-nu/anime-scenery-sunset-uhdpaper.com-4K-112.jpg"][Math.floor(6*Math.random())]}var P=c(297);c(310),c(298);function E(e){var t=e.selectedNote,c=e.updateDatabase,a=e.isOpen,o=e.onClose,i=Object(n.useRef)();return a?s.a.createPortal(Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"overlayModal",onClick:o}),Object(N.jsxs)("div",{className:"SettingsModal",children:[Object(N.jsxs)("div",{className:"IconModalNavbar",children:[Object(N.jsx)("h1",{children:"Link"}),Object(N.jsx)(P.a,{onClick:function(){!function(e){e.image=null,c(e)}(t),o()},children:"Remove"})]}),Object(N.jsx)(g.a,{}),Object(N.jsx)("div",{className:"IconModalInput",children:Object(N.jsx)("input",{ref:i,placeholder:"Paste an Image Link",onInput:function(e){i.current=e.target.value}})}),Object(N.jsx)(P.a,{onClick:function(){var e;e=i.current,t.image=e,c(t),o()},children:"Submit"})]})]}),document.getElementById("portal")):null}function M(e){var t=e.selectedNote,c=e.updateDatabase,o=Object(n.useState)(!1),s=Object(l.a)(o,2),i=s[0],r=s[1];return Boolean(t.image)&&Boolean(t.coverImage)?Object(N.jsxs)(a.a.Fragment,{children:[Object(N.jsx)("img",{className:"titleIcon-cover",src:t.image,alt:"",onClick:function(){r(!0)}}),Object(N.jsx)(E,{selectedNote:t,updateDatabase:c,isOpen:i,onClose:function(){r(!1)}})]}):Boolean(t.image)?Object(N.jsxs)(a.a.Fragment,{children:[Object(N.jsx)("img",{className:"titleIcon",src:t.image,alt:"",onClick:function(){r(!0)}}),Object(N.jsx)(E,{selectedNote:t,updateDatabase:c,isOpen:i,onClose:function(){r(!1)}})]}):null}function R(e){var t=e.selectedNote,c=e.updateDatabase,a=Object(n.useRef)(),o=function(e){e.image=["https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f435.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f98d.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f98a.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f42e.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f416.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f418.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f413.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f422.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f433.svg","https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f419.svg"][Math.floor(11*Math.random())],c(e)};return Object(N.jsxs)("div",{className:"titleContainer",children:[Object(N.jsx)(M,{selectedNote:t,updateDatabase:c}),Object(N.jsxs)("div",{className:"titleButtons",children:[!Boolean(t.image)&&Object(N.jsxs)("div",{className:"iconButton",onClick:function(){o(t)},children:[Object(N.jsx)(y.b,{className:"react-icon"}),"Add Icon"]}),!Boolean(t.coverImage)&&Object(N.jsxs)("div",{className:"coverButton",onClick:function(){!function(e){e.coverImage=_(),c(e)}(t)},children:[Object(N.jsx)(y.a,{className:"react-icon"}),"Add Cover"]})]}),Object(N.jsx)(D.a,{className:"pageComponentTitle",placeholder:"Page Title Goes Here...",onBlur:function(e){console.log(e.target.textContent),console.log(e.target.innerHTML),t.title=e.target.textContent.trim(),c(t)},html:t.title,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),a.current.el.current.blur())},ref:a})]})}function z(e){var t=e.selectedNote,c=e.updateDatabase;return Boolean(t.coverImage)?Object(N.jsxs)("div",{className:"titleCoverContainer",children:[Object(N.jsx)("img",{className:"titleCoverImage",src:t.coverImage,alt:""}),Object(N.jsxs)("div",{className:"titleCoverButtons",children:[Object(N.jsx)(P.a,{onClick:function(){var e;(e=t).coverImage=null,c(e)},children:"Remove"}),Object(N.jsx)(P.a,{onClick:function(){t.coverImage=_(),c(t)},children:"Change Cover"})]})]}):null}function L(e){var t=e.updateDatabase,c=e.selectedNote,n=function(e,n){var a=c;a.content.find((function(t){return t.id===e})).html=n,t(a)},a=function(){var e=Object(i.a)(c.content),n={id:Object(A.a)(),html:"<p><br></p>"};e.push(n),c.content=e,t(c)},o=function(e){var n=Object(i.a)(c.content).filter((function(t){return t.id!==e}));c.content=n,t(c)};return c?Object(N.jsxs)("div",{className:"Editor",children:[Object(N.jsx)(z,{selectedNote:c,updateDatabase:t}),Object(N.jsxs)("div",{className:"mainContentContainer",children:[Object(N.jsx)(R,{selectedNote:c,updateDatabase:t}),Object(N.jsxs)("div",{className:"contentContainer",children:[c.content.map((function(e){return Object(N.jsx)("div",{children:Object(N.jsx)(F,{block:e,updatePage:n,handleAdd:a,handleDelete:o})},e.id)})),Object(N.jsx)("div",{className:"newBlock",onClick:a,placeholder:"/add new block"})]})]})]}):null}var H=c(299),J=c(300),U=c(301);c(237);function G(e){var t=e.toggle,c=e.isOpen,n=e.logout;return Object(N.jsxs)("div",{className:"Header",children:[Object(N.jsx)("div",{className:"menuOpenBtnHeader",onClick:function(){return t(!0)},children:c?null:Object(N.jsx)(H.a,{})}),Object(N.jsx)("div",{className:"userHeader",children:"test@test.com"}),Object(N.jsx)("div",{className:"shareBtnHeader",children:"Share"}),Object(N.jsxs)("div",{className:"updateBtnHeader",children:[Object(N.jsx)(J.a,{}),"Updates"]}),Object(N.jsx)("div",{className:"settingsBtnHeader",children:Object(N.jsx)(U.a,{})}),Object(N.jsx)("div",{className:"logoutBtnHeader",onClick:n,children:"Logout"})]})}c(103);var K=c(46),Q=c(305),W=c(302),Y=c(303),V=c(304);function X(e){var t,c=e.note,n=e.selectedNote,a=e.setSelectedNote,o=e.deleteNote;return Object(N.jsxs)(m.a,{className:"SidebarItem",selected:n===c,onClick:function(){a(c)},children:[Object(N.jsx)(W.a,{}),Boolean(c.image)?Object(N.jsx)("img",{className:"sidebarIcon",src:c.image,alt:""}):Object(N.jsx)("div",{className:"sidebarIcon",children:Object(N.jsx)(Y.a,{})}),Object(N.jsx)(h.a,{className:"textSection",primary:(t=c.title,t.length>20?t.substring(0,20)+"...":t)}),Object(N.jsx)(V.a,{className:"SidebarItemSettings",onClick:function(e){!function(e){e.stopPropagation(),o(c._id)}(e)}})]})}function q(e){var t=e.isOpen,c=e.data,n=e.addNote,a=e.deleteNote,o=e.toggle,s=e.selectedNote,i=e.setSelectedNote;return t?Object(N.jsxs)("div",{className:"Sidebar",children:[Object(N.jsxs)("div",{className:"SidebarTop",children:[Object(N.jsx)(K.b,{className:"SiIcons"})," Notion React App",Object(N.jsx)(Q.a,{className:"MenuOpenIcon",onClick:function(){return o(!1)}})]}),Object(N.jsx)(g.a,{}),Object(N.jsxs)("div",{className:"NotesSection",children:[Object(N.jsx)("div",{className:"NotesSection-heading",children:"NOTES"}),c&&c.map((function(e){return Object(N.jsx)(X,{note:e,selectedNote:s,setSelectedNote:i,deleteNote:a},e._id)}))]}),Object(N.jsx)(g.a,{}),Object(N.jsx)("div",{className:"newPageBtn",onClick:n,children:Object(N.jsxs)("div",{className:"newPageBtnLabel",children:[Object(N.jsx)(K.a,{className:"SiIcons"})," New page"]})})]}):null}c(47),c(78);var Z=c(309),$=c(306),ee=c(307),te=c(63),ce=c(308),ne=(c(239),c(34)),ae=c.n(ne);function oe(e){e.setToken;var t=Object(n.useState)(),c=Object(l.a)(t,2),a=(c[0],c[1],Object(n.useState)()),o=Object(l.a)(a,2);o[0],o[1],Object(d.f)();function s(){}var i=se();return Object(N.jsx)("div",{className:i.container,children:Object(N.jsx)($.a,{className:i.card,children:Object(N.jsxs)(ee.a,{children:[Object(N.jsxs)(te.a,{className:i.title,color:"textSecondary",gutterBottom:!0,children:[Object(N.jsx)(K.b,{className:"SiIcons"})," Notion React App"]}),Object(N.jsx)(te.a,{variant:"h5",component:"h2",children:"LOGIN"}),Object(N.jsx)(g.a,{}),Object(N.jsx)(g.a,{}),Object(N.jsxs)(ce.a,{children:[Object(N.jsx)(P.a,{onClick:function(){ae.a.get("http://localhost:3001/auth/google").then((function(e,t){console.log(t)})).catch((function(e){console.error(e)}))},children:"Google Login"}),Object(N.jsx)(P.a,{onClick:s,children:"Sign-out"})]})]})})})}var se=Object(Z.a)({container:{display:"flex",flexDirection:"column",justifyContent:"space-evenly"},card:{margin:100,minWidth:400,alignSelf:"center"},loginWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},title:{fontSize:14},pos:{marginBottom:12}}),ie=(c(259),ae.a.create({baseURL:"http://localhost:3001/notes/"})),le=function(){console.log("logout..."),ae.a.get("http://localhost:3001/logout").then((function(e,t){console.log(t)})).catch((function(e){console.error(e)}))};var re=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(),s=Object(l.a)(o,2),j=s[0],b=s[1],u=Object(n.useState)(!0),m=Object(l.a)(u,2),O=m[0],h=m[1],g=function(){var e=Object(n.useState)((function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return console.log("initial userToken: ".concat(t)),null===t||void 0===t?void 0:t.token})),t=Object(l.a)(e,2),c=t[0],a=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:c}}(),p=(g.token,g.setToken);return Object(n.useEffect)((function(){ie.get().then((function(e){return e.data})).then((function(e){a(e)})).catch((function(e){console.log("Unable to connect to DB... Did you run MongoDB Server?"),a(T),console.error("GETALL API: ".concat(e))}))}),[]),Object(N.jsx)(r.a,{basename:"/ReactNotionProject",children:Object(N.jsxs)(d.c,{children:[Object(N.jsx)(d.a,{exact:!0,path:"/login",children:Object(N.jsx)(oe,{setToken:p,logout:le})}),Object(N.jsx)(d.a,{exact:!0,path:"/",children:Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(q,{data:c,toggle:h,isOpen:O,selectedNote:j,setSelectedNote:b,addNote:function(){var e,t={title:"",content:[]},n=Object(i.a)(c);(e=t,ie.post("",e).then((function(e){return e.data})).catch((function(e){console.error("ADD API: ".concat(e))}))).then((function(e){e?(n.push(e),a(n),b(e)):(console.log("no response"),t._id=Object(A.a)(),n.push(t),a(n),b(t))}))},deleteNote:function(e){!function(e){ie.delete("".concat(e)).then((function(e){return e.data})).catch((function(e){console.error("DELETE API: ".concat(e))}))}(e);var t=c.filter((function(t){return t._id!==e}));a(t),b(c[0])}}),Object(N.jsx)(G,{toggle:h,isOpen:O,logout:le}),Object(N.jsx)(L,{updateDatabase:function(e){var t=Object(i.a)(c),n=t.indexOf(e);t[n]=e,a(t),function(e,t){ie.patch("".concat(e),t).then((function(e){return e.data})).catch((function(e){console.error("UPDATE API: ".concat(e))}))}(e._id,e)},selectedNote:j})]})})]})})};s.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(re,{})}),document.getElementById("root"))},41:function(e,t,c){}},[[260,1,2]]]);
//# sourceMappingURL=main.6daf9092.chunk.js.map