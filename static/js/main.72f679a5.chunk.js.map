{"version":3,"sources":["components/LoginComponent/GoogleLoginComponent.jsx","components/LoginComponent/RefreshToken.js","components/LoginComponent/GoogleLogoutComponent.jsx","components/LoginComponent/Login.jsx","components/modals/SettingsModalComponent.jsx","components/EditorComponent/ContentButtons.jsx","components/EditorComponent/EditableBlock.jsx","components/MainPageComponent/database.js","components/modals/IconModalComponent.jsx","components/EditorComponent/IconComponent.jsx","components/EditorComponent/TitleComponent.jsx","components/EditorComponent/CoverComponent.jsx","components/EditorComponent/Editor.jsx","components/HeaderComponent/Header.jsx","components/SidebarComponent/SidebarItem.jsx","components/SidebarComponent/Sidebar.jsx","components/MainPageComponent/axios.js","components/MainPageComponent/MainComponent.jsx","App.js","components/LoginComponent/useLocalStorage.js","index.js"],"names":["GoogleLoginComponent","setLocalStorageData","history","useHistory","signIn","useGoogleLogin","onSuccess","res","console","log","profileObj","refreshTiming","tokenObj","expires_in","refreshToken","a","reloadAuthResponse","newAuthRes","id_token","setTimeout","refreshTokenSetup","push","onFailure","clientId","process","isSignedIn","accessType","classes","useStyles","onClick","className","button","src","alt","icon","buttonText","makeStyles","position","cursor","display","fontSize","boxSizing","margin","width","padding","borderColor","backgroundColor","boxShadow","textAlign","background","color","marginRight","height","alignItems","GoogleLogoutComponent","signOut","useGoogleLogout","onLogoutSuccess","Login","logout","container","Typography","title","gutterBottom","title2","variant","component","Divider","left","right","top","bottom","maxWidth","maxHeight","overflow","borderRadius","SettingsModalComponent","block","isOpen","onClose","handleDelete","handleAdd","ReactDOM","createPortal","List","ListItem","id","ListItemIcon","ListItemText","primary","document","getElementById","ContentButtons","changeSettingsModal","handleOptionsModal","EditableBlock","updatePage","useState","settingsModal","setSettingsModal","empty","setEmpty","value","html","onFocus","onChange","val","onKeyDown","e","key","preventDefault","placeholder","theme","localDB","_id","uid","content","image","randomCover","Math","floor","random","IconModalComponent","selectedNote","updateDatabase","inputRef","useRef","Button","removeIcon","ref","onInput","current","target","imgLink","IconComponent","iconModal","setIconModal","Boolean","coverImage","Fragment","TitleComponent","titleRef","randomIcon","randomCoverImage","onBlur","textContent","innerHTML","trim","el","blur","CoverComponent","note","EditorComponent","tempNote","find","addBlock","updatedBlocks","newBlock","deleteBlock","newArray","filter","map","Header","toggle","profileObject","DoubleArrowRounded","name","imageUrl","Check","MoreHoriz","SidebarItem","setSelectedNote","deleteNote","selected","ArrowRight","DescriptionOutlined","length","substring","DeleteForeverOutlined","stopPropagation","Sidebar","data","addNote","MenuOpen","mongoDBapi","axios","create","baseURL","MainComponent","localStorageData","setData","showSidebar","setShowSidebar","useEffect","get","then","response","catch","err","error","noteObj","newNoteObj","allNotes","post","delete","deleteNoteAPI","filteredArray","index","indexOf","patch","updateNoteAPI","App","localStorage","getItem","dataObject","JSON","parse","stringify","setLocalStorage","setItem","removeItem","UseLocalStorage","cookie","basename","exact","path","render","StrictMode"],"mappings":"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","file":"static/js/main.72f679a5.chunk.js","sourcesContent":["import React from 'react'\r\nimport { useGoogleLogin } from 'react-google-login';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { refreshTokenSetup } from '../LoginComponent/RefreshToken'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default function GoogleLoginComponent({setLocalStorageData}) {\r\n\r\n  let history = useHistory();\r\n\r\n  const onSuccess = (res) => {\r\n    console.log(\"[Login Success!] currentUser:\", res.profileObj);\r\n    setLocalStorageData(res.profileObj);\r\n    refreshTokenSetup(res);\r\n    history.push(\"/\");\r\n  }\r\n\r\n  const onFailure = (res) => {\r\n    console.log(\"[Login Failed...] res:\", res);\r\n  }\r\n\r\n  const {signIn} = useGoogleLogin({\r\n    onSuccess: onSuccess,\r\n    onFailure: onFailure,\r\n    clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID,\r\n    isSignedIn: true,\r\n    accessType:'offline',\r\n  });\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={signIn} className={classes.button}>\r\n      <img src=\"google.svg\" alt=\"google login\" className={classes.icon}></img>\r\n      <span className={classes.buttonText}>Sign in with Google</span>\r\n    </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  button: {\r\n    position: 'relative',\r\n    cursor: 'pointer',\r\n    display: 'block',\r\n    fontSize: '1.2em',\r\n    boxSizing: 'content-box',\r\n    margin: '20px auto 0px',\r\n    width: '70%',\r\n    padding: '15px 20px',\r\n    // borderRadius: '18px',\r\n    borderColor: 'transparent',\r\n    backgroundColor: 'rgba(47, 52, 55, 1)',\r\n    boxShadow: '0px 16px 60px rgba(78, 79, 114, 0.38)',\r\n    textAlign: 'center',\r\n    \r\n    '&:hover': {\r\n      background: 'rgba(47, 52, 55, 0.9)',\r\n    }\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    \r\n  },\r\n  icon: {\r\n    marginRight:'5px',\r\n    height: '25px',\r\n    width: '25px',\r\n    alignItems: 'center',\r\n  }\r\n});","export const refreshTokenSetup = (res) => {\r\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\r\n\r\n  const refreshToken = async () => {\r\n    const newAuthRes = await res.reloadAuthResponse();\r\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\r\n    console.log('newAuthRes:', newAuthRes);\r\n    console.log('new auth Token', newAuthRes.id_token);\r\n\r\n    setTimeout(refreshToken, refreshTiming);\r\n  };\r\n\r\n  setTimeout(refreshToken, refreshTiming);\r\n}\r\n\r\n","import React from 'react';\r\nimport { useGoogleLogout } from 'react-google-login';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default function GoogleLogoutComponent({setLocalStorageData}) {\r\n\r\n  let history = useHistory();\r\n\r\n  const onLogoutSuccess = () => {\r\n    setLocalStorageData(null);\r\n    history.push(\"/login\");\r\n    // alert('Successfully Logged Out.');\r\n  }\r\n\r\n  const onFailure = (res) => {\r\n    console.log(\"[Logout Failed...] res:\", res);\r\n  };\r\n\r\n  const { signOut } = useGoogleLogout({\r\n    clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID,\r\n    onLogoutSuccess: onLogoutSuccess,\r\n    onFailure: onFailure,\r\n  });\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <div onClick={signOut} className={classes.button}>\r\n        <img src=\"google.svg\" alt=\"google login\" className={classes.icon}></img>\r\n        <span className={classes.buttonText}>Sign out</span>\r\n      </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  button: {\r\n    position: 'relative',\r\n    cursor: 'pointer',\r\n    display: 'block',\r\n    fontSize: '1.2em',\r\n    boxSizing: 'content-box',\r\n    margin: '20px auto 0px',\r\n    width: '70%',\r\n    padding: '15px 20px',\r\n    // borderRadius: '18px',\r\n    borderColor: 'transparent',\r\n    backgroundColor: 'rgba(47, 52, 55, 1)',\r\n    boxShadow: '0px 16px 60px rgba(78, 79, 114, 0.38)',\r\n    textAlign: 'center',\r\n    \r\n    '&:hover': {\r\n      background: 'rgba(47, 52, 55, 0.9)',\r\n    }\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    \r\n  },\r\n  icon: {\r\n    marginRight:'5px',\r\n    height: '25px',\r\n    width: '25px',\r\n    alignItems: 'center',\r\n  }\r\n});","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Typography, Divider } from '@material-ui/core';\r\nimport { SiNotion } from 'react-icons/si';\r\nimport GoogleLoginComponent from './GoogleLoginComponent';\r\nimport GoogleLogoutComponent from './GoogleLogoutComponent';\r\n\r\nexport default function Login({ setLocalStorageData, logout }) {\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n          <SiNotion className=\"SiIcons\" /> Notion React App\r\n        </Typography>\r\n\r\n        <Typography className={classes.title2} variant=\"h5\" component=\"h2\">\r\n          Login\r\n        </Typography>\r\n\r\n        <Divider />\r\n\r\n        <GoogleLoginComponent setLocalStorageData={setLocalStorageData} />\r\n        <GoogleLogoutComponent setLocalStorageData={setLocalStorageData} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    width: '350px',\r\n    height: '250px',\r\n    backgroundColor: 'white',\r\n    position: 'absolute', \r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    margin: 'auto',\r\n    padding: '30px 10px',\r\n    \r\n    maxWidth: '100%',\r\n    maxHeight: '100%',\r\n    overflow: 'none',\r\n    borderRadius: '5px',\r\n\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    margin: '0px 10px',\r\n  },\r\n  title2: {\r\n    margin: '5px 10px',\r\n  }\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles.css'\r\nimport { Divider, List, ListItem, ListItemIcon, ListItemText} from '@material-ui/core';\r\nimport * as MaterialIcons from '@material-ui/icons';\r\n\r\nexport default function SettingsModalComponent({ block, isOpen, onClose, handleAdd, handleDelete}) {\r\n  \r\n  if (!isOpen) {\r\n    return null;\r\n  } else {\r\n    return ReactDOM.createPortal(\r\n      <>\r\n      <div className=\"overlayModal\"  onClick={onClose}></div>\r\n        <div className=\"SettingsModal\" >\r\n\r\n        {/* ---MODAL CONTENT--- */}\r\n        <List>\r\n\r\n          <ListItem button onClick={()=>{handleDelete(block.id); onClose();}}>\r\n            <ListItemIcon>\r\n              <MaterialIcons.Delete />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Delete\" />\r\n          </ListItem>\r\n\r\n          <ListItem button onClick={onClose}>\r\n            <ListItemIcon>\r\n              <MaterialIcons.ControlPointDuplicate />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Duplicate\" />\r\n          </ListItem>\r\n\r\n          <ListItem button onClick={onClose}>\r\n            <ListItemIcon>\r\n              <MaterialIcons.Link />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Copy link\" />\r\n          </ListItem>\r\n          \r\n          <Divider/>\r\n\r\n          <ListItem button onClick={onClose}>\r\n            <ListItemIcon>\r\n              <MaterialIcons.Comment />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Comment\" />\r\n          </ListItem>\r\n\r\n          <Divider/>\r\n\r\n          <ListItem button onClick={onClose}>\r\n            <ListItemIcon>\r\n              <MaterialIcons.ColorLensOutlined />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Colour\" />\r\n          </ListItem>\r\n\r\n        </List>\r\n\r\n      </div>\r\n      </>\r\n      ,\r\n      document.getElementById('portal')\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {FiSettings, FiTrello} from 'react-icons/fi'\r\n\r\nexport default function ContentButtons({block, changeSettingsModal}) {\r\n  return (\r\n    <div className=\"contentButtons\">\r\n      <FiSettings className=\"settingsButton\" onClick={changeSettingsModal}/>\r\n      <FiTrello className=\"optionsButton\" onClick={handleOptionsModal}/>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nfunction handleOptionsModal(){\r\n  console.log(`you have clicked OPTIONS`);\r\n}","import React, {useState} from 'react';\r\nimport ReactQuill from 'react-quill';\r\n\r\n// import CustomQuillToolbar, { modules, formats } from '../CustomQuill/CustomQuillToolbar';\r\nimport SettingsModalComponent from '../modals/SettingsModalComponent';\r\nimport ContentButtons from './ContentButtons';\r\n\r\n\r\nimport './EditorStyles.css';\r\nimport 'react-quill/dist/quill.bubble.css'\r\n\r\nexport default function EditableBlock({ block, updatePage, handleAdd, handleDelete }) {\r\n\r\n  const [settingsModal, setSettingsModal] = useState(false);\r\n  // const [previousKey, setPreviousKey] = useState(null);\r\n  const [empty, setEmpty] = useState('');\r\n  \r\n  const onKeyDownHandler = (e) => { \r\n    (block.html===\"<p><br></p>\") ? setEmpty(true) : setEmpty(false);\r\n    if (empty) {\r\n      if(e.key === \"Backspace\"){\r\n        console.log(`readyToDelete+backspace PRESSED`)\r\n        e.preventDefault();\r\n        handleDelete(block.id);\r\n      }\r\n      if(e.key === \"Delete\"){\r\n        console.log(`readyToDelete+DELETE PRESSED`)\r\n        e.preventDefault();\r\n        handleDelete(block.id);\r\n      }\r\n      if(e.key === \"/\"){\r\n        console.log(`You Pressed /`);\r\n        e.preventDefault();\r\n        setSettingsModal(true);\r\n      }\r\n    }\r\n\r\n    // need to prevent default Enter (line break) and insert new block underneath the block that is being edited.\r\n    // if (e.key === \"Enter\") {\r\n    //   e.preventDefault();\r\n    //   handleAdd();\r\n    // }\r\n    \r\n    // setPreviousKey(e.key);\r\n  }\r\n\r\n\r\n  const handleOnChange = (val)=>{\r\n    if(block.html !== val){\r\n      // console.log(`onChange called val: ${val}`);\r\n      updatePage(block.id, val);\r\n    }\r\n  }\r\n\r\n  const onBlockFocus =()=>{\r\n    //check if block is empty?\r\n    (block.html===\"<p><br></p>\") ? setEmpty(true) : setEmpty(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"blockContainer\">\r\n      <ContentButtons\r\n        block={block}\r\n        changeSettingsModal={() => { setSettingsModal(true) }}\r\n      />\r\n      {/* <CustomQuillToolbar className=\"CustomerQuillToolbar\" /> */}\r\n      <ReactQuill className=\"ReactQuill\"\r\n        value={block.html}\r\n        onFocus={onBlockFocus}\r\n        onChange={handleOnChange}\r\n        onKeyDown={onKeyDownHandler}\r\n        placeholder=\"Type '/' for commands\"\r\n        // modules={modules}\r\n        // formats={formats}\r\n        theme=\"bubble\"\r\n      />\r\n      <SettingsModalComponent\r\n        block={block}\r\n        isOpen={settingsModal}\r\n        onClose={() => { setSettingsModal(false) }}\r\n        handleDelete={handleDelete}\r\n        handleAdd={handleAdd}\r\n      />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n","import { v4 as uid } from 'uuid';\r\n\r\nexport const localDB = [\r\n  {\r\n    _id: uid(),\r\n    title: 'This is Note One',\r\n    content: [\r\n        {\r\n            id: uid(),\r\n            html: '<p>Block One</p>'\r\n        },\r\n        {\r\n            id: uid(),\r\n            html: '<p>Block Two</p>'\r\n        },\r\n        {\r\n            id: uid(),\r\n            html: '<p>Block Three</p>'\r\n        },\r\n\r\n    ],\r\n    image:\"https://www.notion.so/image/https%3A%2F%2Fwww.docker.com%2Fsites%2Fdefault%2Ffiles%2Fd8%2Fstyles%2Frole_icon%2Fpublic%2F2019-07%2FMoby-logo.png%3Fitok%3DsYH_JEaJ?table=block&id=e46e822a-19c0-4fe7-b026-1dcd793c1f1f&width=250&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2\"\r\n  },\r\n  {\r\n    _id: uid(),\r\n    title: 'Note Object Two',\r\n    content: [\r\n        {\r\n            id: uid(),\r\n            html: '<p>Block 1</p>'\r\n        },\r\n        {\r\n            id: uid(),\r\n            html: '<p>Block 2</p>'\r\n        },\r\n\r\n    ],\r\n    image:\"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f40a.svg\"\r\n  },\r\n  {\r\n    _id: uid(),\r\n    title: 'Note Object Three',\r\n    content: [\r\n        {\r\n            id: uid(),\r\n            html: '<p>Block A</p>'\r\n        },\r\n    ],\r\n    image:\"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f418.svg\"\r\n  },\r\n\r\n]\r\n\r\nexport function randomImage(){\r\n    const imgArray = [\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f435.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f98d.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f98a.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f42e.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f416.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f418.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f413.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f422.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f433.svg\",\r\n        \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f419.svg\",\r\n    ];\r\n    const index = Math.floor(Math.random() * 11); \r\n    return imgArray[index]; \r\n}\r\n\r\nexport function randomCover(){\r\n    const imgArray = [\r\n        \"https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fmet_frederic_edwin_church_1871.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2\",\r\n        \"https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fnasa_the_blue_marble.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2\",\r\n        \"https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fwoodcuts_11.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2\",\r\n        \"https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fwoodcuts_14.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2\",\r\n        \"https://www.notion.so/image/https%3A%2F%2Fwww.notion.so%2Fimages%2Fpage-cover%2Fmet_william_morris_1877_willow.jpg?table=block&id=c8e22ba6-e193-46a4-bd93-bc3abddb535d&width=3070&userId=e646da05-b654-4cdb-b6a2-90edf1444f26&cache=v2\",\r\n        \"https://2.bp.blogspot.com/-C8vnMOJVWRI/XIkaFbYfEcI/AAAAAAAAAgo/FIBvarQjNwwTVb5OPnpRhUjTU1lcnuQMwCKgBGAs/w3840-h1600-p-k-no-nu/anime-scenery-sunset-uhdpaper.com-4K-112.jpg\",\r\n\r\n\r\n    ];\r\n    \r\n    const index = Math.floor(Math.random() * 6); \r\n    return imgArray[index]; \r\n}\r\n\r\n// export function removeHTMLTags(str) {\r\n//   return str.replace(/<(.|\\n)*?>/g, '').trim();\r\n// }","import React, {useRef} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles.css'\r\nimport { Divider, Button, Menu, MenuItem } from '@material-ui/core';\r\n\r\nexport default function IconModalComponent({ selectedNote, updateDatabase, isOpen, onClose }) {\r\n\r\n  const inputRef = useRef();\r\n\r\n  const removeIcon = (selectedNote)=>{\r\n    selectedNote.image = null;\r\n    updateDatabase(selectedNote);\r\n  }\r\n\r\n  const addIcon = (imgLink)=>{\r\n    selectedNote.image = imgLink;\r\n    updateDatabase(selectedNote);\r\n  }\r\n\r\n  if (!isOpen) {\r\n    return null;\r\n  } else {\r\n    return ReactDOM.createPortal(\r\n      <>\r\n        <div className=\"overlayModal\" onClick={onClose}></div>\r\n        <div className=\"SettingsModal\" >\r\n\r\n          {/* ---MODAL CONTENT--- */}\r\n          <div className=\"IconModalNavbar\">\r\n            <h1>Link</h1>\r\n            <Button onClick={()=>{removeIcon(selectedNote); onClose();}}>Remove</Button>\r\n          </div>\r\n\r\n          <Divider />\r\n\r\n          <div className=\"IconModalInput\"><input ref={inputRef} placeholder=\"Paste an Image Link\" onInput={(e)=>{inputRef.current = e.target.value}}/></div>\r\n          <Button onClick={()=>{addIcon(inputRef.current); onClose();}}>Submit</Button>\r\n\r\n        </div>\r\n      </>\r\n      ,\r\n      document.getElementById('portal')\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n//---Material-UI SimpleMenu Example---\r\nexport function SimpleMenu() {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n        Open Menu\r\n      </Button>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n        <MenuItem onClick={handleClose}>My account</MenuItem>\r\n        <MenuItem onClick={handleClose}>Logout</MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport IconModalComponent from '../modals/IconModalComponent';\r\nimport './EditorStyles.css';\r\n\r\nexport default function IconComponent({selectedNote, updateDatabase}) {\r\n\r\n  const [iconModal, setIconModal] = useState(false);\r\n\r\n  if(Boolean(selectedNote.image) && Boolean(selectedNote.coverImage)){\r\n    return(\r\n      <React.Fragment>\r\n        <img className=\"titleIcon-cover\" src={selectedNote.image} alt=\"\" onClick={()=>{setIconModal(true)}}></img>\r\n\r\n        {/* ICON MODAL */}\r\n        <IconModalComponent\r\n          selectedNote={selectedNote}\r\n          updateDatabase={updateDatabase}\r\n          isOpen={iconModal}\r\n          onClose={() => { setIconModal(false) }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }else if(Boolean(selectedNote.image)){\r\n    return(\r\n      <React.Fragment>\r\n        <img className=\"titleIcon\" src={selectedNote.image} alt=\"\" onClick={()=>{setIconModal(true)}}></img>\r\n\r\n        {/* ICON MODAL */}\r\n        <IconModalComponent\r\n          selectedNote={selectedNote}\r\n          updateDatabase={updateDatabase}\r\n          isOpen={iconModal}\r\n          onClose={() => { setIconModal(false) }}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n  else return null;\r\n  \r\n  \r\n}\r\n","import React, { useRef } from 'react';\r\nimport ContentEditable from 'react-contenteditable';\r\nimport { BsImage, BsCircleSquare } from 'react-icons/bs';\r\nimport {randomImage, randomCover} from '../MainPageComponent/database.js';\r\n\r\nimport './EditorStyles.css';\r\nimport IconComponent from './IconComponent';\r\n\r\nexport default function TitleComponent({ selectedNote, updateDatabase }) {\r\n\r\n  const titleRef = useRef();\r\n\r\n  const handleOnKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      titleRef.current.el.current.blur();\r\n    }\r\n  }\r\n\r\n  const handleBlur = (e) => {\r\n    console.log(e.target.textContent);\r\n    console.log(e.target.innerHTML);\r\n    selectedNote.title = e.target.textContent.trim(); //trim() removes white spaces(including tabs, line-breaks) in-front & beyond-end of text\r\n    updateDatabase(selectedNote);\r\n  };\r\n\r\n  const randomIcon = (selectedNote)=>{\r\n    selectedNote.image = randomImage();\r\n    updateDatabase(selectedNote);\r\n  }\r\n\r\n  const randomCoverImage = (selectedNote)=>{\r\n    selectedNote.coverImage = randomCover();\r\n    updateDatabase(selectedNote);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"titleContainer\">\r\n\r\n      {/* ICON */}\r\n      <IconComponent selectedNote={selectedNote} updateDatabase={updateDatabase}/>\r\n\r\n      {/* ICON-COVER Buttons */}\r\n      <div className=\"titleButtons\">\r\n        { (!Boolean(selectedNote.image)) && <div className=\"iconButton\" onClick={()=>{randomIcon(selectedNote);}}><BsImage className=\"react-icon\" />Add Icon</div>}\r\n        { (!Boolean(selectedNote.coverImage)) && <div className=\"coverButton\" onClick={()=>{randomCoverImage(selectedNote);}}><BsCircleSquare className=\"react-icon\" />Add Cover</div>}\r\n      </div>\r\n\r\n      {/* TITLE */}\r\n      <ContentEditable className=\"pageComponentTitle\" placeholder=\"Page Title Goes Here...\" onBlur={handleBlur} html={selectedNote.title} onKeyDown={handleOnKeyDown} ref={titleRef} />\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n","import { Button } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { randomCover } from '../MainPageComponent/database';\r\nimport './EditorStyles.css';\r\n\r\nexport default function CoverComponent({selectedNote, updateDatabase}) {\r\n\r\n  const removeCover = (note)=>{\r\n    note.coverImage = null;\r\n    updateDatabase(note);\r\n  }\r\n\r\n  const changeCover = ()=>{\r\n    selectedNote.coverImage = randomCover();\r\n    updateDatabase(selectedNote);\r\n  }\r\n\r\n  if(Boolean(selectedNote.coverImage)){\r\n    return (\r\n    <div className=\"titleCoverContainer\">\r\n\r\n      <img className=\"titleCoverImage\" src={selectedNote.coverImage} alt=\"\"></img>\r\n\r\n      <div className=\"titleCoverButtons\">\r\n        <Button onClick={()=>{removeCover(selectedNote);}}>Remove</Button>\r\n        <Button onClick={()=>{changeCover(selectedNote);}}>Change Cover</Button>\r\n      </div>\r\n      \r\n    </div>\r\n    )\r\n  }else return null;\r\n  \r\n  \r\n}\r\n","import React from 'react';\r\nimport EditableBlock from './EditableBlock';\r\nimport TitleComponent from './TitleComponent';\r\nimport './EditorStyles.css';\r\n\r\nimport { v4 as uid } from 'uuid';\r\nimport CoverComponent from './CoverComponent';\r\n\r\nexport default function EditorComponent({updateDatabase, selectedNote}) {\r\n\r\n    const updatePage = (id, html) => {\r\n        let tempNote = selectedNote;\r\n        tempNote.content.find((block)=>block.id === id).html = html;\r\n        updateDatabase(tempNote);\r\n    }\r\n\r\n    const addBlock = () => {\r\n        const updatedBlocks = [...selectedNote.content];\r\n        const newBlock = {\r\n            id: uid(),\r\n            html: \"<p><br></p>\",\r\n        };\r\n        updatedBlocks.push(newBlock);\r\n        selectedNote.content = updatedBlocks;\r\n        updateDatabase(selectedNote);\r\n        // currentBlock.ref.nextElementSibling.focus();\r\n    }\r\n\r\n    const deleteBlock = (id) => {\r\n        const contentArray = [...selectedNote.content]; //temp 'content' array\r\n        const newArray = contentArray.filter(block => block.id !== id);\r\n        selectedNote.content = newArray;\r\n        updateDatabase(selectedNote);\r\n    }\r\n\r\n \r\n    if(selectedNote){\r\n        return (\r\n        <div className=\"Editor\">\r\n\r\n            {/* COVER */}\r\n            <CoverComponent selectedNote={selectedNote} updateDatabase={updateDatabase}/>\r\n\r\n            <div className=\"mainContentContainer\">\r\n\r\n                <TitleComponent selectedNote={selectedNote} updateDatabase={updateDatabase}/>\r\n                \r\n                <div className=\"contentContainer\">\r\n\r\n                    {selectedNote.content.map((block) => {\r\n                        return (\r\n                            <div  key={block.id}>\r\n                                <EditableBlock\r\n                                    block={block}\r\n                                    updatePage={updatePage}\r\n                                    handleAdd={addBlock}\r\n                                    handleDelete={deleteBlock}\r\n                                />\r\n                            </div>\r\n                        );\r\n                    })}\r\n\r\n                    <div className=\"newBlock\" onClick={addBlock} placeholder=\"/add new block\"></div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n    }else return null;\r\n    \r\n}\r\n","import React from 'react'\r\nimport {DoubleArrowRounded, Check, MoreHoriz} from '@material-ui/icons';\r\nimport GoogleLogoutComponent from '../LoginComponent/GoogleLogoutComponent'\r\nimport './styles.css';\r\n\r\nexport default function Header({toggle, isOpen, profileObject, logout, setLocalStorageData}) {\r\n\r\n  return (\r\n    <div className=\"Header\">\r\n      <div className=\"menuOpenBtnHeader\" onClick={()=>toggle(true)}>{(isOpen)?null:<DoubleArrowRounded/>}</div>\r\n      <div className=\"userHeader\">{(profileObject?.name) ? profileObject?.name : <div className=\"userHeader-2\">User</div>}</div>\r\n      <img className=\"profileImage\" src={profileObject?.imageUrl} alt=\"\"></img>\r\n      <div className=\"shareBtnHeader\">Share</div>\r\n      <div className=\"updateBtnHeader\"><Check/>Updates</div>\r\n      <div className=\"settingsBtnHeader\"><MoreHoriz/></div>\r\n      {/* <div className=\"logoutBtnHeader\" onClick={logoutSuccess}>Logout</div> */}\r\n      \r\n      <GoogleLogoutComponent className=\"logoutBtnHeader\"\r\n        setLocalStorageData={setLocalStorageData}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport { ListItem, ListItemText } from '@material-ui/core';\r\nimport { ArrowRight, DescriptionOutlined, DeleteForeverOutlined } from '@material-ui/icons';\r\nimport './styles.css';\r\n\r\nexport default function SidebarItem({ note, selectedNote, setSelectedNote, deleteNote }) {\r\n\r\n  const modifyDisplayString = (title) => {\r\n    if (title.length > 20) {\r\n      return title.substring(0, 20) + '...';\r\n    }\r\n    else return title;\r\n  };\r\n\r\n  const handleDelete = (e) => {\r\n    e.stopPropagation(); \r\n    deleteNote(note._id);\r\n  }\r\n\r\n  return (\r\n    <ListItem className=\"SidebarItem\" \r\n      selected={selectedNote === note}\r\n      onClick={() => { setSelectedNote(note);}}\r\n    >\r\n\r\n      <ArrowRight />\r\n\r\n      {Boolean(note.image) ? \r\n      <img className=\"sidebarIcon\" src={note.image} alt=\"\"></img>\r\n      : <div className=\"sidebarIcon\"><DescriptionOutlined /></div>}\r\n      \r\n\r\n      <ListItemText className=\"textSection\" primary={modifyDisplayString(note.title)} />\r\n\r\n      <DeleteForeverOutlined className=\"SidebarItemSettings\" onClick={(e) => { handleDelete(e);}} />\r\n\r\n    </ListItem>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport './styles.css';\r\nimport { Divider} from '@material-ui/core';\r\nimport {SiNotion, SiAddthis} from 'react-icons/si';\r\nimport {MenuOpen} from '@material-ui/icons';\r\nimport SidebarItemComponent from './SidebarItem';\r\n\r\nexport default function Sidebar({ isOpen, data, addNote, deleteNote, toggle, selectedNote, setSelectedNote }) {\r\n  if (isOpen) {\r\n    return (\r\n      <div className=\"Sidebar\">\r\n        <div className=\"SidebarTop\">\r\n          <SiNotion className=\"SiIcons\"/> Notion React App\r\n          <MenuOpen className=\"MenuOpenIcon\" onClick={()=>toggle(false)}/>\r\n        </div>\r\n\r\n        <Divider />\r\n        \r\n        <div className=\"NotesSection\">\r\n        <div className=\"NotesSection-heading\">NOTES</div>  \r\n        \r\n        {data && data.map((note) => {\r\n          return (\r\n              <SidebarItemComponent \r\n              key={note._id}\r\n              note={note} \r\n              selectedNote={selectedNote} \r\n              setSelectedNote={setSelectedNote} \r\n              deleteNote={deleteNote}\r\n              />\r\n          );\r\n          })\r\n        }\r\n        </div>\r\n        \r\n        <Divider />\r\n\r\n        <div className=\"newPageBtn\" onClick={addNote}>\r\n          <div className=\"newPageBtnLabel\"><SiAddthis className=\"SiIcons\"/> New page</div>  \r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  } else return null;\r\n\r\n}\r\n","import axios from 'axios';\r\n\r\n// const localURI =\"http://localhost:3001/\";\r\nconst herokuAPI = \"https://mongodb-server-app.herokuapp.com/\"\r\nconst mongoDBapi = axios.create({baseURL:herokuAPI});\r\n\r\nexport const login = (tokenId) => {\r\n  mongoDBapi.post(\"login\", { tokenId: tokenId })\r\n  .then((res) => {\r\n    if (res.data === \"success\") {\r\n      \r\n    };\r\n  })\r\n  .catch((err) => {\r\n    console.error(err);\r\n  });\r\n}\r\n\r\nexport const logout = ()=>{\r\n  console.log(`logout...`);\r\n  mongoDBapi.get(\"logout\")\r\n  .then((res)=>{\r\n    console.log(res);\r\n  })\r\n  .catch((err)=>{\r\n    console.error(err);\r\n  })\r\n}\r\n\r\nexport const getAllAPI = ()=>{\r\n  return mongoDBapi.get(\"notes\");\r\n}\r\n\r\nexport const addNoteAPI = (noteObj)=>{\r\n  return mongoDBapi.post(\"notes\", noteObj)\r\n  .then((response)=>{\r\n      return response.data;\r\n  })\r\n  .catch((err)=>{\r\n      console.error(`ADD API: ${err}`);\r\n  })\r\n} \r\n\r\nexport const getNoteByIdAPI = (id)=>{\r\n  return mongoDBapi.get(`notes/${id}`)\r\n  .then((response)=>{\r\n      return response.data;\r\n  })\r\n  .catch((err)=>{\r\n      console.error(`Get Note API: ${err}`);\r\n  })\r\n}\r\n\r\nexport const updateNoteAPI = (id, noteObj)=>{\r\n  return mongoDBapi.patch(`notes/${id}`, noteObj)\r\n  .then((response)=>{\r\n      return response.data;\r\n  })\r\n  .catch((err)=>{\r\n      console.error(`UPDATE API: ${err}`);\r\n  })\r\n}\r\n\r\nexport const deleteNoteAPI = (id)=>{\r\n  return mongoDBapi.delete(`notes/${id}`)\r\n  .then((response)=>{\r\n      return response.data;\r\n  })\r\n  .catch((err)=>{\r\n      console.error(`DELETE API: ${err}`);\r\n  })\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport EditorComponent from \"../../components/EditorComponent/Editor.jsx\";\r\nimport HeaderComponent from \"../../components/HeaderComponent/Header.jsx\";\r\nimport SidebarComponent from \"../../components/SidebarComponent/Sidebar.jsx\";\r\n\r\nimport { v4 as uid } from \"uuid\";\r\nimport { localDB } from \"./database\";\r\nimport { getAllAPI, addNoteAPI, updateNoteAPI, deleteNoteAPI} from \"./axios\";\r\n\r\nimport './styles.css';\r\n\r\nexport default function MainComponent({localStorageData, setLocalStorageData, logout}) {\r\n\r\n  const [data, setData] = useState();\r\n\r\n  const [selectedNote, setSelectedNote] = useState();\r\n\r\n  const [showSidebar, setShowSidebar] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getAllAPI()\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .then((data) => {\r\n        setData(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Unable to connect to DB... Did you run MongoDB Server Application?`);\r\n        setData(localDB);\r\n        console.error(`GETALL API: ${err}`);\r\n      });\r\n  }, []);\r\n\r\n  const updateDatabase = (noteObj) => {\r\n    const allNotes = [...data]; //create temp array with all of the data from db\r\n    const index = allNotes.indexOf(noteObj); //get index of noteObj from param\r\n    allNotes[index] = noteObj; //replace note with new noteObj in the temp array\r\n    setData(allNotes);\r\n    updateNoteAPI(noteObj._id, noteObj);\r\n  };\r\n\r\n  const addNote = () => {\r\n    let newNoteObj = {\r\n      title: \"\",\r\n      content: [],\r\n    };\r\n\r\n    const allNotes = [...data];\r\n\r\n    addNoteAPI(newNoteObj)\r\n      .then((response) => {\r\n        if(response){\r\n          allNotes.push(response); //add newly added note to the temp array\r\n          setData(allNotes); //replace state array with the temp array\r\n          setSelectedNote(response);\r\n        }else{\r\n          console.log(\"no response\");\r\n          newNoteObj._id = uid();\r\n          allNotes.push(newNoteObj); \r\n          setData(allNotes); \r\n          setSelectedNote(newNoteObj);\r\n        }\r\n      })\r\n  };\r\n\r\n  const deleteNote = (id) => {\r\n    deleteNoteAPI(id);\r\n    const filteredArray = data.filter((note) => note._id !== id); //filter out the deleted note\r\n    setData(filteredArray); //replace state array with filteredArray\r\n    setSelectedNote(data[0]);\r\n  };\r\n  \r\n\r\n\r\n  //Behaves like a guard, if not authorised, then redirect to Login page.\r\n  // if(!authorised) {\r\n  //   return <Redirect to=\"/login\" />\r\n  // }\r\n  return (\r\n    <div className=\"MainPage\">\r\n      <SidebarComponent\r\n        data={data}\r\n        toggle={setShowSidebar}\r\n        isOpen={showSidebar}\r\n        selectedNote={selectedNote}\r\n        setSelectedNote={setSelectedNote}\r\n        addNote={addNote}\r\n        deleteNote={deleteNote}\r\n      />\r\n      <HeaderComponent toggle={setShowSidebar} isOpen={showSidebar} profileObject={localStorageData} setLocalStorageData={setLocalStorageData} logout={logout}/>\r\n      <EditorComponent\r\n        updateDatabase={updateDatabase}\r\n        selectedNote={selectedNote}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport LoginComponent from \"./components/LoginComponent/Login.jsx\";\nimport MainComponent from \"./components/MainPageComponent/MainComponent.jsx\";\nimport './App.css';\nimport UseLocalStorage from \"./components/LoginComponent/useLocalStorage\";\n\nfunction App() {\n  \n  const { localStorageData, setLocalStorageData } = UseLocalStorage();\n  \n  const logout = () => {\n    setLocalStorageData(null);\n    console.log('logged out successfully!', document.cookie, localStorage.getItem(\"localStorageData\"));\n  }\n\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact path=\"/login\">\n          <LoginComponent setLocalStorageData={setLocalStorageData} logout={logout}/>\n        </Route>\n        <Route exact path=\"/\">\n          <MainComponent localStorageData={localStorageData} setLocalStorageData={setLocalStorageData} logout={logout}/>\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { useState } from 'react';\r\n\r\n//Custom Hook\r\nexport default function useLocalStorage() {\r\n  const initialiseToken = () => {\r\n    const data = localStorage.getItem('localStorageData');\r\n    const dataObject = JSON.parse(data);\r\n    console.log(`checking local storage for 'data': ${JSON.stringify(dataObject)}`);\r\n    return dataObject;\r\n  };\r\n\r\n  const saveData = (data) => {\r\n    console.log('saving data to LocalStorage', data);\r\n    localStorage.setItem('localStorageData', JSON.stringify(data));\r\n    setLocalStorage(data);\r\n\r\n    //Remove localStorageData if received data is null\r\n    if(!data){localStorage.removeItem('localStorageData')}; \r\n  };\r\n\r\n  const [localStorageData, setLocalStorage] = useState(initialiseToken);\r\n\r\n  return {\r\n    localStorageData: localStorageData,\r\n    setLocalStorageData: saveData,\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}